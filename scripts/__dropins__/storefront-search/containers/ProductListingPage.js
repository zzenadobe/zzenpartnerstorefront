/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsx as r,jsxs as h,Fragment as j}from"@dropins/tools/preact-jsx-runtime.js";import{createContext as Ke}from"@dropins/tools/preact.js";import{useState as w,useEffect as Z,useContext as De,useMemo as Ye,useRef as Ie,useCallback as Tt}from"@dropins/tools/preact-hooks.js";import{D as We,v as Ht,S as me,u as oe,a as bt,b as Ge,c as le,d as At,C as Ot,e as Be,B as Ut,f as Rt,T as zt,g as Vt,R as Dt,h as Bt}from"../chunks/tokens.js";import*as b from"@dropins/tools/preact-compat.js";import{createContext as jt,useEffect as Re,useContext as Zt,useState as fe,useMemo as qt,useRef as Qt}from"@dropins/tools/preact-compat.js";import{a as Gt}from"../chunks/currency-symbol-map.js";import{events as Kt}from"@dropins/tools/event-bus.js";const Wt=()=>{window.scrollTo({top:0})},Xt=(...e)=>e.filter(Boolean).join(" "),Je=(e,n=3,t)=>{var o;const a=[],i=new URL(window.location.href).protocol;for(const c of e){const d=(o=c.url)==null?void 0:o.replace(/^https?:\/\//,"");d&&a.push(`${i}//${d}`)}if(t){const c=`${i}//${t.replace(/^https?:\/\//,"")}`,d=c.indexOf(c);d>-1&&a.splice(d,1),a.unshift(c)}return a.slice(0,n)},et=(e,n)=>{const[t,a]=e.split("?"),s=new URLSearchParams(a);return Object.entries(n).forEach(([i,o])=>{o!=null&&s.set(i,String(o))}),`${t}?${s.toString()}`},Yt=(e,n)=>{const t={fit:"cover",crop:!1,dpi:1},a=[];for(const s of e){const i=et(s,{...t,width:n}),c=[1,2,3].map(d=>`${et(s,{...t,auto:"webp",quality:80,width:n*d})} ${d}x`);a.push({src:i,srcset:c})}return a},ae=(e,n,t,a=!1,s=!1)=>{var u,l;let i,o;"productView"in e&&(i=(u=e.productView)==null?void 0:u.price,o=i.regular,s&&(o=i.final));let c=(o==null?void 0:o.amount.currency)??"USD";n?c=n:c=Gt(c)??"$";const d=t?((l=o==null?void 0:o.amount)==null?void 0:l.value)??0*parseFloat(t):o==null?void 0:o.amount.value;return d?`${c}${d.toFixed(2)}`:""},Jt=()=>{const e=localStorage!=null&&localStorage.getItem("ds-view-history-time-decay")?JSON.parse(localStorage.getItem("ds-view-history-time-decay")):null;return e&&Array.isArray(e)?e.slice(-200).map(n=>({sku:n.sku,dateTime:n.date})):[]},yt={search:"q",search_query:"search_query",pagination:"p",sort:"product_list_order",page_size:"page_size"},tt=e=>{const n=new URL(window.location.href),t=new URLSearchParams(n.searchParams),a=e.attribute;if(e.range){const s=e.range;pe(a)?(t.delete(a),t.append(a,`${s.from}--${s.to}`)):t.append(a,`${s.from}--${s.to}`)}else{const s=e.in||[],i=t.getAll(a);s.map(o=>{i.includes(o)||t.append(a,o)})}he(n.pathname,t)},rt=(e,n)=>{const t=new URL(window.location.href),a=new URLSearchParams(t.searchParams),s=t.searchParams.getAll(e);a.delete(e),n&&(s.splice(s.indexOf(n),1),s.forEach(i=>a.append(e,i))),he(t.pathname,a)},er=()=>{const e=new URL(window.location.href),n=new URLSearchParams(e.searchParams);for(const t of e.searchParams.keys())Object.values(yt).includes(t)||n.delete(t);he(e.pathname,n)},tr=e=>{const n=new URL(window.location.href),t=new URLSearchParams(n.searchParams);t.set("product_list_order",e),he(n.pathname,t)},rr=e=>{const n=new URL(window.location.href),t=new URLSearchParams(n.searchParams);t.set("view_type",e),he(n.pathname,t)},nr=e=>{const n=new URL(window.location.href),t=new URLSearchParams(n.searchParams);e===We?t.delete("page_size"):t.set("page_size",e.toString()),he(n.pathname,t)},wt=e=>{const n=new URL(window.location.href),t=new URLSearchParams(n.searchParams);e===1?t.delete("p"):t.set("p",e.toString()),he(n.pathname,t)},sr=e=>{var a;const n=_t(),t=[];for(const[s,i]of n.entries())if(e.includes(s)&&!Object.values(yt).includes(s))if(i.includes("--")){const o=i.split("--"),c={attribute:s,range:{from:Number(o[0]),to:Number(o[1])}};t.push(c)}else{const o=t.findIndex(c=>c.attribute==s);if(o!==-1)(a=t[o].in)==null||a.push(i);else{const c={attribute:s,in:[i]};t.push(c)}}return t},pe=e=>{const t=_t().get(e);return t||""},_t=()=>{const e=window.location.search;return new URLSearchParams(e)},he=(e,n)=>{n.toString()===""?window.history.pushState({},"",`${e}`):window.history.pushState({},"",`${e}?${n.toString()}`)},je=e=>new DOMParser().parseFromString(e,"text/html").documentElement.textContent,ar=()=>[{label:"Most Relevant",value:"relevance_DESC"},{label:"Price: Low to High",value:"price_ASC"},{label:"Price: High to Low",value:"price_DESC"}],or=(e,n,t,a)=>{const s=a?[{label:e.SortDropdown.positionLabel,value:"position_ASC"}]:[{label:e.SortDropdown.relevanceLabel,value:"relevance_DESC"}],i=t!="1";return n&&n.length>0&&n.forEach(o=>{!o.attribute.includes("relevance")&&!(o.attribute.includes("inStock")&&i)&&!o.attribute.includes("position")&&(o.numeric&&o.attribute.includes("price")?(s.push({label:`${o.label}: Low to High`,value:`${o.attribute}_ASC`}),s.push({label:`${o.label}: High to Low`,value:`${o.attribute}_DESC`})):s.push({label:`${o.label}`,value:`${o.attribute}_DESC`}))}),s},Ct=e=>{if(!e)return;const n=e.lastIndexOf("_");return[{attribute:e.substring(0,n),direction:e.substring(n+1)==="ASC"?"ASC":"DESC"}]},lr=(e,n)=>{const{rootMargin:t}=n,[a,s]=w(null);return Z(()=>{if(!(e!=null&&e.current))return;const i=new IntersectionObserver(([o])=>{s(o),o.isIntersecting&&i.unobserve(o.target)},{rootMargin:t});return i.observe(e.current),()=>{i.disconnect()}},[e,t]),a},ir=["environmentId","environmentType","websiteCode","storeCode","storeViewCode","config","context","apiUrl","apiKey","route","searchQuery","customerGroup","type","defaultHeaders"],cr=e=>e!=="apiUrl"?e:typeof e=="string"?(e=e.replace(/[^a-z0-9áéíóúñü \.,_-]/gim,""),e.trim()):e,nt=e=>(Object.keys(e).forEach(n=>{if(!ir.includes(n)){console.error(`Invalid key ${n} in StoreDetailsProps`),delete e[n];return}e[n]=cr(e[n])}),e),dr=`
    fragment Facet on Aggregation {
        title
        attribute
        buckets {
            title
            __typename
            ... on CategoryView {
                name
                count
                path
            }
            ... on ScalarBucket {
                count
            }
            ... on RangeBucket {
                from
                to
                count
            }
            ... on StatsBucket {
                min
                max
            }
        }
    }
`,ur=`
    fragment ProductView on ProductSearchItem {
        productView {
            __typename
            sku
            name
            inStock
            url
            urlKey
            images {
                label
                url
                roles
            }
            ... on ComplexProductView {
                priceRange {
                    maximum {
                        final {
                            amount {
                                value
                                currency
                            }
                        }
                        regular {
                            amount {
                                value
                                currency
                            }
                        }
                    }
                    minimum {
                        final {
                            amount {
                                value
                                currency
                            }
                        }
                        regular {
                            amount {
                                value
                                currency
                            }
                        }
                    }
                }
                options {
                    id
                    title
                    values {
                        title
                        ... on ProductViewOptionValueSwatch {
                            id
                            inStock
                            type
                            value
                        }
                    }
                }
            }
            ... on SimpleProductView {
                price {
                    final {
                        amount {
                            value
                            currency
                        }
                    }
                    regular {
                        amount {
                            value
                            currency
                        }
                    }
                }
            }
        }
        highlights {
            attribute
            value
            matched_words
        }
    }
`,mr=`
    query attributeMetadata {
        attributeMetadata {
        sortable {
            label
            attribute
            numeric
        }
        filterableInSearch {
            label
            attribute
            numeric
        }
        }
    }
`,pr=`
    query productSearch(
        $phrase: String!
        $pageSize: Int
        $currentPage: Int = 1
        $filter: [SearchClauseInput!]
        $sort: [ProductSearchSortInput!]
        $context: QueryContextInput
    ) {
        productSearch(
            phrase: $phrase
            page_size: $pageSize
            current_page: $currentPage
            filter: $filter
            sort: $sort
            context: $context
        ) {
            total_count
            items {
                ...ProductView
            }
            facets {
                ...Facet
            }
            page_info {
                current_page
                page_size
                total_pages
            }
        }
        attributeMetadata {
            sortable {
                label
                attribute
                numeric
            }
        }
    }
    ${ur}
    ${dr}
`,hr=`
    query refineProduct(
        $optionIds: [String!]!
        $sku: String!
    ) {
        refineProduct(
            optionIds: $optionIds
            sku: $sku
        ) {
            __typename
            id
            sku
            name
            inStock
            url
            urlKey
            images {
                label
                url
                roles
            }
            ... on SimpleProductView {
                price {
                    final {
                        amount {
                            value
                        }
                    }
                    regular {
                        amount {
                            value
                        }
                    }
                }
            }
            ... on ComplexProductView {
                options {
                    id
                    title
                    required
                    values {
                        id
                        title
                    }
                }
                priceRange {
                    maximum {
                        final {
                            amount {
                                value
                            }
                        }
                        regular {
                            amount {
                                value
                            }
                        }
                    }
                    minimum {
                        final {
                            amount {
                                value
                            }
                        }
                        regular {
                            amount {
                                value
                            }
                        }
                    }
                }
            }
        }
    }
`,fr=`
    query customerCart {
        customerCart {
            id
            items {
            id
            product {
                name
                sku
            }
            quantity
            }
        }
    }
`,gr=async({apiUrl:e,phrase:n,pageSize:t=24,displayOutOfStock:a,currentPage:s=1,filter:i=[],sort:o=[],context:c,categorySearch:d=!1,headers:u})=>{var N,k;const l={phrase:n,pageSize:t,currentPage:s,filter:i,sort:o,context:c};let p="Search";d&&(p="Catalog");const x={attribute:"visibility",in:[p,"Catalog, Search"]};l.filter.push(x);const f=a!="1",g={attribute:"inStock",eq:"true"};f&&l.filter.push(g);const v=Ht();_r(me,v,n,i,t,s,o);const m=(N=window.magentoStorefrontEvents)==null?void 0:N.publish;m!=null&&m.searchRequestSent&&m.searchRequestSent(me);const C=await(await fetch(e,{method:"POST",headers:u,body:JSON.stringify({query:pr,variables:{...l}})})).json();return Cr(me,v,(k=C==null?void 0:C.data)==null?void 0:k.productSearch),m!=null&&m.searchResponseReceived&&m.searchResponseReceived(me),d?m!=null&&m.categoryResultsView&&m.categoryResultsView(me):m!=null&&m.searchResultsView&&m.searchResultsView(me),C==null?void 0:C.data},vr=async({apiUrl:e,headers:n})=>{const a=await(await fetch(e,{method:"POST",headers:n,body:JSON.stringify({query:mr})})).json();return a==null?void 0:a.data},xr=async({apiUrl:e,optionIds:n,sku:t,headers:a})=>{const o=await(await fetch(e,{method:"POST",headers:a,body:JSON.stringify({query:hr,variables:{...{optionIds:n,sku:t}}})})).json();return o==null?void 0:o.data},Nt=Ke({sortable:[],filterableInSearch:[]}),br=({children:e})=>{const[n,t]=w({sortable:[],filterableInSearch:null}),a=oe();Z(()=>{(async()=>{const o=await vr({headers:a.defaultHeaders,apiUrl:a.apiUrl});o!=null&&o.attributeMetadata&&t({sortable:o.attributeMetadata.sortable,filterableInSearch:o.attributeMetadata.filterableInSearch.map(c=>c.attribute)})})()},[]);const s={...n};return r(Nt.Provider,{value:s,children:e})},kt=()=>De(Nt),St=jt({}),yr=({children:e})=>{const n=oe(),t=pe(n.searchQuery||"q"),a=pe("product_list_order"),s=Ct(a),i=s||bt,[o,c]=w(t),[d,u]=w(""),[l,p]=w([]),[x,f]=w([]),[g,v]=w(i),[m,_]=w(0),C=L=>{const E=[...l,L];p(E),tt(L)},N=L=>{const E=[...l],D=E.findIndex(H=>H.attribute===L.attribute);E[D]=L,p(E),tt(L)},k=(L,E)=>{const D=[...l].filter(H=>H.attribute!==L);p(D),rt(L,E)},$=()=>{er(),p([])},I=(L,E)=>{var q;const D=[...l].filter(B=>B.attribute!==L.attribute),H=(q=L.in)==null?void 0:q.filter(B=>B!==E);D.push({attribute:L.attribute,in:H}),H!=null&&H.length?(p(D),rt(L.attribute,E)):k(L.attribute,E)},y=L=>{let E=0;return L.forEach(D=>{D.in?E+=D.in.length:E+=1}),E};Re(()=>{const L=y(l);_(L)},[l]);const V={phrase:o,categoryPath:d,filters:l,sort:g,categoryNames:x,filterCount:m,setPhrase:c,setCategoryPath:u,setFilters:p,setCategoryNames:f,setSort:v,createFilter:C,updateFilter:N,updateFilterOptions:I,removeFilter:k,clearFilters:$};return r(St.Provider,{value:V,children:e})},de=()=>Zt(St),Pt=Ke({variables:{phrase:"",headers:{}},loading:!1,items:[],setItems:()=>{},currentPage:1,setCurrentPage:()=>{},pageSize:We,setPageSize:()=>{},totalCount:0,setTotalCount:()=>{},totalPages:0,setTotalPages:()=>{},facets:[],setFacets:()=>{},categoryName:"",setCategoryName:()=>{},currencySymbol:"",setCurrencySymbol:()=>{},currencyRate:"",setCurrencyRate:()=>{},minQueryLength:Ge,minQueryLengthReached:!1,setMinQueryLengthReached:()=>{},pageSizeOptions:[],setRoute:void 0,refineProduct:()=>{},pageLoading:!1,setPageLoading:()=>{},categoryPath:void 0,viewType:"",setViewType:()=>{},listViewType:"",setListViewType:()=>{},resolveCartId:()=>Promise.resolve(""),refreshCart:()=>{},addToCart:()=>Promise.resolve(),searchHeaders:{},setSearchHeaders:()=>{}}),wr=({children:e})=>{var be,ye,we,_e,Ce,Ne,ke;const n=pe("p"),t=n?Number(n):1,a=de(),s=oe(),i=kt(),o=pe("page_size"),c=Number((ye=(be=s==null?void 0:s.config)==null?void 0:be.perPageConfig)==null?void 0:ye.defaultPageSizeOption)||We,d=o?Number(o):c,l=le().ProductContainers.showAll,[p,x]=w((we=s==null?void 0:s.config)!=null&&we.searchHeaders?s.config.searchHeaders:{}),[f,g]=w(!0),[v,m]=w(!0),[_,C]=w([]),[N,k]=w(t),[$,I]=w(d),[y,V]=w(0),[L,E]=w(0),[D,H]=w([]),[q,B]=w(((_e=s==null?void 0:s.config)==null?void 0:_e.categoryName)??""),[ee,te]=w([]),[T,P]=w(((Ce=s==null?void 0:s.config)==null?void 0:Ce.currencySymbol)??""),[M,U]=w(((Ne=s==null?void 0:s.config)==null?void 0:Ne.currencyRate)??""),[A,R]=w(!1),ue=Ye(()=>{var F;return((F=s==null?void 0:s.config)==null?void 0:F.minQueryLength)||Ge},[s==null?void 0:s.config.minQueryLength]),re=(ke=s.config)==null?void 0:ke.currentCategoryUrlPath,ge=pe("view_type"),[ne,K]=w(ge||"gridView"),[ve,$e]=w("default"),se=Ye(()=>({phrase:a.phrase,filter:a.filters,sort:a.sort,context:s.context,pageSize:$,displayOutOfStock:s.config.displayOutOfStock,currentPage:N}),[a.phrase,a.filters,a.sort,s.context,s.config.displayOutOfStock,$,N]),Ee=async(F,O)=>{const W={...s.defaultHeaders,...p};return await xr({...s,optionIds:F,sku:O,headers:W})},Fe={variables:se,loading:f,items:_,setItems:C,currentPage:N,setCurrentPage:k,pageSize:$,setPageSize:I,totalCount:y,setTotalCount:V,totalPages:L,setTotalPages:E,facets:D,setFacets:H,categoryName:q,setCategoryName:B,currencySymbol:T,setCurrencySymbol:P,currencyRate:M,setCurrencyRate:U,minQueryLength:ue,minQueryLengthReached:A,setMinQueryLengthReached:R,pageSizeOptions:ee,setRoute:s.route,refineProduct:Ee,pageLoading:v,setPageLoading:m,categoryPath:re,viewType:ne,setViewType:K,listViewType:ve,setListViewType:$e,cartId:s.config.resolveCartId,refreshCart:s.config.refreshCart,resolveCartId:s.config.resolveCartId,addToCart:s.config.addToCart,searchHeaders:p,setSearchHeaders:x},xe=async(F={})=>{var O,W,X,Y,Q,ie,ce,Se,Pe,z;try{if(g(!0),Wt(),Me()){const J=[...se.filter];Ae(re,J);const S=await gr({...se,...s,apiUrl:s.apiUrl,filter:J,categorySearch:!!re,headers:F});C(((O=S==null?void 0:S.productSearch)==null?void 0:O.items)||[]),H(((W=S==null?void 0:S.productSearch)==null?void 0:W.facets)||[]),V(((X=S==null?void 0:S.productSearch)==null?void 0:X.total_count)||0),E(((Q=(Y=S==null?void 0:S.productSearch)==null?void 0:Y.page_info)==null?void 0:Q.total_pages)||1),Oe(((ie=S==null?void 0:S.productSearch)==null?void 0:ie.facets)||[]),Te((ce=S==null?void 0:S.productSearch)==null?void 0:ce.total_count),He((Se=S==null?void 0:S.productSearch)==null?void 0:Se.total_count,(z=(Pe=S==null?void 0:S.productSearch)==null?void 0:Pe.page_info)==null?void 0:z.total_pages)}g(!1),m(!1)}catch(J){console.error(J),g(!1),m(!1)}},Me=()=>{var F;return!((F=s.config)!=null&&F.currentCategoryUrlPath)&&a.phrase.trim().length<(Number(s.config.minQueryLength)||Ge)?(C([]),H([]),V(0),E(1),R(!1),!1):(R(!0),!0)},Te=F=>{var Y,Q,ie;const O=[];(((Q=(Y=s==null?void 0:s.config)==null?void 0:Y.perPageConfig)==null?void 0:Q.pageSizeOptions)||At).split(",").forEach(ce=>{O.push({label:ce,value:parseInt(ce,10)})}),((ie=s==null?void 0:s.config)==null?void 0:ie.allowAllProducts)=="1"&&O.push({label:l,value:F!==null?F>500?500:F:0}),te(O)},He=(F,O)=>{F&&F>0&&O===1&&(k(1),wt(1))},Ae=(F,O)=>{if(F){const W={attribute:"categoryPath",eq:F};O.push(W),(se.sort.length<1||se.sort===bt)&&(se.sort=Ot)}},Oe=F=>{F.map(O=>{var X;if(((X=O==null?void 0:O.buckets[0])==null?void 0:X.__typename)==="CategoryView"){const Y=O.buckets.map(Q=>{if(Q.__typename==="CategoryView")return{name:Q.name,value:Q.title,attribute:O.attribute}});a.setCategoryNames(Y)}})};return Z(()=>{i.filterableInSearch&&xe({...s.defaultHeaders,...p})},[a.filters]),Z(()=>{if(i.filterableInSearch){const F=sr(i.filterableInSearch);a.setFilters(F)}},[i.filterableInSearch]),Z(()=>{f||xe({...s.defaultHeaders,...p})},[a.phrase,a.sort,N,$,p]),r(Pt.Provider,{value:Fe,children:e})},G=()=>De(Pt),_r=(e,n,t,a,s,i,o)=>{const c=window.magentoStorefrontEvents;if(!c)return;const d=c.context.getSearchInput()??{units:[]},u={searchUnitId:e,searchRequestId:n,queryTypes:["products","suggestions"],phrase:t,pageSize:s,currentPage:i,filter:a,sort:o},l=d.units.findIndex(p=>p.searchUnitId===e);l<0?d.units.push(u):d.units[l]=u,c.context.setSearchInput(d)},Cr=(e,n,t)=>{var c,d;const a=window.magentoStorefrontEvents;if(!a)return;const s=a.context.getSearchResults()??{units:[]},i=s.units.findIndex(u=>u.searchUnitId===e),o={searchUnitId:e,searchRequestId:n,products:Nr(t.items),categories:[],suggestions:kr(t.suggestions),page:((c=t==null?void 0:t.page_info)==null?void 0:c.current_page)||1,perPage:((d=t==null?void 0:t.page_info)==null?void 0:d.page_size)||20,facets:Sr(t.facets)};i<0?s.units.push(o):s.units[i]=o,a.context.setSearchResults(s)},Nr=e=>e?e.map((t,a)=>{var s,i,o,c,d,u,l,p,x,f;return{name:(s=t==null?void 0:t.product)==null?void 0:s.name,sku:(i=t==null?void 0:t.product)==null?void 0:i.sku,url:((o=t==null?void 0:t.product)==null?void 0:o.canonical_url)??"",imageUrl:(d=(c=t==null?void 0:t.productView)==null?void 0:c.images)!=null&&d.length?((u=t==null?void 0:t.productView)==null?void 0:u.images[0].url)??"":"",price:(f=(x=(p=(l=t.productView)==null?void 0:l.price)==null?void 0:p.final)==null?void 0:x.amount)==null?void 0:f.value,rank:a}}):[],kr=e=>e?e.map((t,a)=>({suggestion:t,rank:a})):[],Sr=e=>e?e.map(t=>({attribute:t==null?void 0:t.attribute,title:t==null?void 0:t.title,type:(t==null?void 0:t.type)||"PINNED",buckets:t==null?void 0:t.buckets.map(a=>a)})):[];async function st(e="",n={},t="",a=""){const s=a?`${a}/graphql`:`${window.origin}/graphql`;return await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Store:t},body:JSON.stringify({query:e,variables:n})}).then(o=>o.json())}const Pr=`
  mutation addProductsToCart(
    $cartId: String!
    $cartItems: [CartItemInput!]!
  ) {
      addProductsToCart(
        cartId: $cartId
        cartItems: $cartItems
      ) {
          cart {
            items {
              product {
                name
                sku
              }
              quantity
            }
          }
          user_errors {
            code
            message
          }
      }
  }
`,Lt=Ke({}),Lr=()=>De(Lt),Ir=({children:e})=>{const[n,t]=w({cartId:""}),{refreshCart:a,resolveCartId:s}=G(),{storeViewCode:i,config:o}=oe(),c=async()=>{var p;let l="";if(s)l=await s()??"";else{const x=await st(fr,{},i,o==null?void 0:o.baseUrl);l=((p=x==null?void 0:x.data.customerCart)==null?void 0:p.id)??""}return t({...n,cartId:l}),l},u={cart:n,initializeCustomerCart:c,addToCartGraphQL:async l=>{let p=n.cartId;return p||(p=await c()),await st(Pr,{cartId:p,cartItems:[{quantity:1,sku:l}]},i,o==null?void 0:o.baseUrl)},refreshCart:a};return r(Lt.Provider,{value:u,children:e})},$r=e=>b.createElement("svg",{className:"w-6 h-6 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",...e},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})),Er=e=>b.createElement("svg",{width:23,height:22,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},b.createElement("path",{d:"M17.9002 18.2899H18.6502V16.7899H17.9002V18.2899ZM6.13016 17.5399L5.38475 17.6228C5.42698 18.0026 5.74801 18.2899 6.13016 18.2899V17.5399ZM4.34016 1.43994L5.08556 1.35707C5.04334 0.977265 4.7223 0.689941 4.34016 0.689941V1.43994ZM1.66016 0.689941H0.910156V2.18994H1.66016V0.689941ZM21.3402 6.80996L22.0856 6.89324C22.1077 6.69506 22.05 6.49622 21.9253 6.34067C21.8005 6.18512 21.6189 6.08566 21.4206 6.06428L21.3402 6.80996ZM20.5402 13.97V14.72C20.9222 14.72 21.2432 14.4329 21.2856 14.0532L20.5402 13.97ZM6.30029 19.0499C6.30029 19.4641 5.96451 19.7999 5.55029 19.7999V21.2999C6.79293 21.2999 7.80029 20.2926 7.80029 19.0499H6.30029ZM5.55029 19.7999C5.13608 19.7999 4.80029 19.4641 4.80029 19.0499H3.30029C3.30029 20.2926 4.30765 21.2999 5.55029 21.2999V19.7999ZM4.80029 19.0499C4.80029 18.6357 5.13608 18.2999 5.55029 18.2999V16.7999C4.30765 16.7999 3.30029 17.8073 3.30029 19.0499H4.80029ZM5.55029 18.2999C5.96451 18.2999 6.30029 18.6357 6.30029 19.0499H7.80029C7.80029 17.8073 6.79293 16.7999 5.55029 16.7999V18.2999ZM19.3003 19.0499C19.3003 19.4641 18.9645 19.7999 18.5503 19.7999V21.2999C19.7929 21.2999 20.8003 20.2926 20.8003 19.0499H19.3003ZM18.5503 19.7999C18.1361 19.7999 17.8003 19.4641 17.8003 19.0499H16.3003C16.3003 20.2926 17.3077 21.2999 18.5503 21.2999V19.7999ZM17.8003 19.0499C17.8003 18.6357 18.1361 18.2999 18.5503 18.2999V16.7999C17.3077 16.7999 16.3003 17.8073 16.3003 19.0499H17.8003ZM18.5503 18.2999C18.9645 18.2999 19.3003 18.6357 19.3003 19.0499H20.8003C20.8003 17.8073 19.7929 16.7999 18.5503 16.7999V18.2999ZM17.9002 16.7899H6.13016V18.2899H17.9002V16.7899ZM6.87556 17.4571L5.08556 1.35707L3.59475 1.52282L5.38475 17.6228L6.87556 17.4571ZM4.34016 0.689941H1.66016V2.18994H4.34016V0.689941ZM4.65983 5.76564L21.2598 7.55564L21.4206 6.06428L4.82064 4.27428L4.65983 5.76564ZM20.5949 6.72668L19.7949 13.8867L21.2856 14.0532L22.0856 6.89324L20.5949 6.72668ZM20.5402 13.22H5.74023V14.72H20.5402V13.22Z",fill:"white"})),Fr=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16",...e},b.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})),ze=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8.122 5.121",stroke:"currentColor",...e},b.createElement("path",{id:"chevron",d:"M199.75,367.5l3,3,3-3",transform:"translate(-198.689 -366.435)",fill:"none"})),Mr=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-exclamation-circle-fill",viewBox:"0 0 16 16",...e},b.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})),Tr=e=>b.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},b.createElement("path",{d:"M3.75 1.25H2.25C1.69772 1.25 1.25 1.69772 1.25 2.25V3.75C1.25 4.30228 1.69772 4.75 2.25 4.75H3.75C4.30228 4.75 4.75 4.30228 4.75 3.75V2.25C4.75 1.69772 4.30228 1.25 3.75 1.25Z",fill:"#222222"}),b.createElement("path",{d:"M9.75 1.25H8.25C7.69772 1.25 7.25 1.69772 7.25 2.25V3.75C7.25 4.30228 7.69772 4.75 8.25 4.75H9.75C10.3023 4.75 10.75 4.30228 10.75 3.75V2.25C10.75 1.69772 10.3023 1.25 9.75 1.25Z",fill:"#222222"}),b.createElement("path",{d:"M15.75 1.25H14.25C13.6977 1.25 13.25 1.69772 13.25 2.25V3.75C13.25 4.30228 13.6977 4.75 14.25 4.75H15.75C16.3023 4.75 16.75 4.30228 16.75 3.75V2.25C16.75 1.69772 16.3023 1.25 15.75 1.25Z",fill:"#222222"}),b.createElement("path",{d:"M3.75 7.25H2.25C1.69772 7.25 1.25 7.69772 1.25 8.25V9.75C1.25 10.3023 1.69772 10.75 2.25 10.75H3.75C4.30228 10.75 4.75 10.3023 4.75 9.75V8.25C4.75 7.69772 4.30228 7.25 3.75 7.25Z",fill:"#222222"}),b.createElement("path",{d:"M9.75 7.25H8.25C7.69772 7.25 7.25 7.69772 7.25 8.25V9.75C7.25 10.3023 7.69772 10.75 8.25 10.75H9.75C10.3023 10.75 10.75 10.3023 10.75 9.75V8.25C10.75 7.69772 10.3023 7.25 9.75 7.25Z",fill:"#222222"}),b.createElement("path",{d:"M15.75 7.25H14.25C13.6977 7.25 13.25 7.69772 13.25 8.25V9.75C13.25 10.3023 13.6977 10.75 14.25 10.75H15.75C16.3023 10.75 16.75 10.3023 16.75 9.75V8.25C16.75 7.69772 16.3023 7.25 15.75 7.25Z",fill:"#222222"}),b.createElement("path",{d:"M3.75 13.25H2.25C1.69772 13.25 1.25 13.6977 1.25 14.25V15.75C1.25 16.3023 1.69772 16.75 2.25 16.75H3.75C4.30228 16.75 4.75 16.3023 4.75 15.75V14.25C4.75 13.6977 4.30228 13.25 3.75 13.25Z",fill:"#222222"}),b.createElement("path",{d:"M9.75 13.25H8.25C7.69772 13.25 7.25 13.6977 7.25 14.25V15.75C7.25 16.3023 7.69772 16.75 8.25 16.75H9.75C10.3023 16.75 10.75 16.3023 10.75 15.75V14.25C10.75 13.6977 10.3023 13.25 9.75 13.25Z",fill:"#222222"}),b.createElement("path",{d:"M15.75 13.25H14.25C13.6977 13.25 13.25 13.6977 13.25 14.25V15.75C13.25 16.3023 13.6977 16.75 14.25 16.75H15.75C16.3023 16.75 16.75 16.3023 16.75 15.75V14.25C16.75 13.6977 16.3023 13.25 15.75 13.25Z",fill:"#222222"})),Hr=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-info-circle-fill",viewBox:"0 0 16 16",...e},b.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"})),Ar=e=>b.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},b.createElement("path",{d:"M14.5 4H3.5C3.22386 4 3 4.22386 3 4.5V5.5C3 5.77614 3.22386 6 3.5 6H14.5C14.7761 6 15 5.77614 15 5.5V4.5C15 4.22386 14.7761 4 14.5 4Z",fill:"#222222"}),b.createElement("path",{d:"M14.5 8H3.5C3.22386 8 3 8.22386 3 8.5V9.5C3 9.77614 3.22386 10 3.5 10H14.5C14.7761 10 15 9.77614 15 9.5V8.5C15 8.22386 14.7761 8 14.5 8Z",fill:"#222222"}),b.createElement("path",{d:"M14.5 12H3.5C3.22386 12 3 12.2239 3 12.5V13.5C3 13.7761 3.22386 14 3.5 14H14.5C14.7761 14 15 13.7761 15 13.5V12.5C15 12.2239 14.7761 12 14.5 12Z",fill:"#222222"})),Or=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},b.createElement("circle",{className:"opacity-50",cx:12,cy:12,r:10,fill:"white",stroke:"white",strokeWidth:4}),b.createElement("path",{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),at=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 74",...e},b.createElement("path",{d:"M26,85H70a8.009,8.009,0,0,0,8-8V29.941a7.947,7.947,0,0,0-2.343-5.657L64.716,13.343A7.946,7.946,0,0,0,59.059,11H26a8.009,8.009,0,0,0-8,8V77a8.009,8.009,0,0,0,8,8ZM20,19a6.007,6.007,0,0,1,6-6H59.059A5.96,5.96,0,0,1,63.3,14.757L74.242,25.7A5.96,5.96,0,0,1,76,29.941V77a6.007,6.007,0,0,1-6,6H26a6.007,6.007,0,0,1-6-6Zm6.614,51.06h0L68,69.98a.75.75,0,0,0,.545-1.263L57.67,57.129a1.99,1.99,0,0,0-2.808-.028L51.6,60.467l-.024.026-7.087-7.543a1.73,1.73,0,0,0-1.229-.535,1.765,1.765,0,0,0-1.249.5L26.084,68.778a.75.75,0,0,0,.529,1.281Zm26.061-8.548,3.252-3.354a.333.333,0,0,1,.332-.123.463.463,0,0,1,.324.126L66.27,68.484l-7.177.014-6.5-6.916a.735.735,0,0,0,.078-.071Zm-9.611-7.526a.235.235,0,0,1,.168-.069.212.212,0,0,1,.168.068L57.039,68.5l-28.606.055Zm20.05-.43h.079a5.087,5.087,0,0,0,3.583-1.47,5.146,5.146,0,1,0-7.279-.109,5.089,5.089,0,0,0,3.617,1.579Zm-2.456-7.839a3.6,3.6,0,0,1,2.534-1.042h.056a3.7,3.7,0,0,1,2.478,6.34,3.51,3.51,0,0,1-2.589,1.041,3.6,3.6,0,0,1-2.557-1.118,3.715,3.715,0,0,1,.079-5.221Z",transform:"translate(-18 -11)",fill:"#8e8e8e"})),It=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...e},b.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})),Ur=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.158 16",stroke:"currentColor",...e},b.createElement("g",{id:"icon-mini-sort",transform:"translate(-4 -8)"},b.createElement("rect",{id:"Placement_area","data-name":"Placement area",width:16,height:16,transform:"translate(4 8)",opacity:.004}),b.createElement("g",{id:"icon",transform:"translate(-290.537 -358.082)"},b.createElement("path",{id:"Path_38562","data-name":"Path 38562",d:"M309.634,376.594l-1.5,1.5-1.5-1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}),b.createElement("line",{id:"Line_510","data-name":"Line 510",x2:6.833,transform:"translate(295.537 373.59)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}),b.createElement("line",{id:"Line_511","data-name":"Line 511",x2:8.121,transform:"translate(295.537 369.726)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}),b.createElement("line",{id:"Line_511-2","data-name":"Line 511",y2:9.017,transform:"translate(308.13 369.082)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}),b.createElement("line",{id:"Line_512","data-name":"Line 512",x2:5.545,transform:"translate(295.537 377.455)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})))),Rr=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-exclamation-triangle-fill",viewBox:"0 0 16 16",...e},b.createElement("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})),zr=e=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",...e},b.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})),Xe=({displayFilter:e,type:n,title:t})=>{const a=le();return n=="mobile"?r("div",{className:"ds-sdk-filter-button",children:h("button",{className:"flex items-center bg-gray-100 ring-black ring-opacity-5 rounded-md p-sm  outline outline-gray-200 hover:outline-gray-800 h-[32px]",onClick:e,children:[r($r,{className:"w-md"}),a.Filter.title]})}):r("div",{className:"ds-sdk-filter-button-desktop",children:r("button",{className:"flex items-center bg-gray-100 ring-black ring-opacity-5 rounded-md p-sm text-sm h-[32px]",onClick:e,children:t})})},Vr=({label:e})=>{const n=window.matchMedia("only screen and (max-width: 768px)").matches;return r("div",{className:`ds-sdk-loading flex h-screen justify-center items-center ${n?"loading-spinner-on-mobile":""}`,children:h("div",{className:"ds-sdk-loading__spinner bg-gray-100 rounded-full p-xs flex w-fit my-lg outline-gray-200",children:[r(Or,{className:"inline-block mr-xs ml-xs w-md animate-spin fill-primary"}),r("span",{className:"ds-sdk-loading__spinner-label p-xs",children:e})]})})},ot=()=>r(j,{children:r("div",{className:"ds-plp-facets ds-plp-facets--loading",children:r("div",{className:"ds-plp-facets__button shimmer-animation-button"})})}),Dr=()=>h(j,{children:[r("div",{className:"ds-sdk-input ds-sdk-input--loading",children:h("div",{className:"ds-sdk-input__content",children:[r("div",{className:"ds-sdk-input__header",children:r("div",{className:"ds-sdk-input__title shimmer-animation-facet"})}),h("div",{className:"ds-sdk-input__list",children:[r("div",{className:"ds-sdk-input__item shimmer-animation-facet"}),r("div",{className:"ds-sdk-input__item shimmer-animation-facet"}),r("div",{className:"ds-sdk-input__item shimmer-animation-facet"}),r("div",{className:"ds-sdk-input__item shimmer-animation-facet"})]})]})}),r("div",{className:"ds-sdk-input__border border-t mt-md border-gray-200"})]}),$t=()=>h("div",{className:"ds-sdk-product-item ds-sdk-product-item--shimmer",children:[r("div",{className:"ds-sdk-product-item__banner shimmer-animation-card"}),h("div",{className:"ds-sdk-product-item__content",children:[r("div",{className:"ds-sdk-product-item__header",children:r("div",{className:"ds-sdk-product-item__title shimmer-animation-card"})}),r("div",{className:"ds-sdk-product-item__list shimmer-animation-card"}),r("div",{className:"ds-sdk-product-item__info shimmer-animation-card"})]})]}),Br=()=>{const e=Array.from({length:8}),n=Array.from({length:4}),{screenSize:t}=Be(),a=t.columns;return r("div",{className:"ds-widgets bg-body py-2",children:h("div",{className:"flex",children:[h("div",{className:"sm:flex ds-widgets-_actions relative max-w-[21rem] w-full h-full px-2 flex-col overflow-y-auto",children:[r("div",{className:"ds-widgets_actions_header flex justify-between items-center mb-md"}),r("div",{className:"flex pb-4 w-full h-full",children:r("div",{className:"ds-sdk-filter-button-desktop",children:r("button",{className:"flex items-center bg-gray-100 ring-black ring-opacity-5 rounded-md p-sm text-sm h-[32px]",children:r(ot,{})})})}),r("div",{className:"ds-plp-facets flex flex-col",children:r("form",{className:"ds-plp-facets__list border-t border-gray-200",children:n.map((s,i)=>r(Dr,{},i))})})]}),h("div",{className:"ds-widgets_results flex flex-col items-center pt-16 w-full h-full",children:[r("div",{className:"flex flex-col max-w-5xl lg:max-w-7xl ml-auto w-full h-full",children:r("div",{className:"flex justify-end mb-[1px]",children:r(ot,{})})}),r("div",{className:"ds-sdk-product-list__grid mt-md grid-cols-1 gap-y-8 gap-x-md sm:grid-cols-2 md:grid-cols-3 xl:gap-x-4 pl-8",style:{display:"grid",gridTemplateColumns:` repeat(${a}, minmax(0, 1fr))`},children:e.map((s,i)=>r($t,{},i))})]})]})})},jr=({attribute:e})=>{const n=de();return{onChange:(a,s)=>{var c;const i=(c=n==null?void 0:n.filters)==null?void 0:c.find(d=>d.attribute===e);if(!i){const d={attribute:e,range:{from:a,to:s}};n.createFilter(d);return}const o={...i,range:{from:a,to:s}};n.updateFilter(o)}}},Zr=({filterData:e})=>{var _,C,N,k,$,I;const n=G(),t=de(),a=e.buckets[0].from,s=e.buckets[e.buckets.length-1].to,i=(N=(C=(_=n.variables.filter)==null?void 0:_.find(y=>y.attribute==="price"))==null?void 0:C.range)==null?void 0:N.to,o=(I=($=(k=n.variables.filter)==null?void 0:k.find(y=>y.attribute==="price"))==null?void 0:$.range)==null?void 0:I.from,[c,d]=fe(o||a),[u,l]=fe(i||s),{onChange:p}=jr(e),x=`fromSlider_${e.attribute}`,f=`toSlider_${e.attribute}`,g=`fromInput_${e.attribute}`,v=`toInput_${e.attribute}`;Re(()=>{var y,V;(((y=t==null?void 0:t.filters)==null?void 0:y.length)===0||!((V=t==null?void 0:t.filters)!=null&&V.find(L=>L.attribute===e.attribute)))&&(d(a),l(s))},[t]),Re(()=>{const y=(T,P,M,U)=>{const[A,R]=D(P,M);H(P,M,"#C6C6C6","#383838",U),A>R?(T.value=R,P.value=R):T.value=A},V=(T,P,M,U)=>{const[A,R]=D(P,M);H(P,M,"#C6C6C6","#383838",U),A<=R?(T.value=R,M.value=R):M.value=A},L=(T,P,M)=>{const[U,A]=D(T,P);H(T,P,"#C6C6C6","#383838",P),U>A?(d(A),T.value=A,M.value=A):M.value=U},E=(T,P,M)=>{const[U,A]=D(T,P);H(T,P,"#C6C6C6","#383838",P),U<=A?(P.value=A,M.value=A):(l(U),M.value=U,P.value=U)},D=(T,P)=>{const M=parseInt(T.value,10),U=parseInt(P.value,10);return[M,U]},H=(T,P,M,U,A)=>{const R=P.max-P.min,ue=T.value-P.min,re=P.value-P.min;A.style.background=`linear-gradient(
        to right,
        ${M} 0%,
        ${M} ${ue/R*100}%,
        ${U} ${ue/R*100}%,
        ${U} ${re/R*100}%,
        ${M} ${re/R*100}%,
        ${M} 100%)`},q=document.querySelector(`#${x}`),B=document.querySelector(`#${f}`),ee=document.querySelector(`#${g}`),te=document.querySelector(`#${v}`);H(q,B,"#C6C6C6","#383838",B),q.oninput=()=>L(q,B,ee),B.oninput=()=>E(q,B,te),ee.oninput=()=>y(q,ee,te,B),te.oninput=()=>V(B,ee,te,B)},[c,u]);const m=y=>{const V=n.currencyRate?n.currencyRate:"1";return`${n.currencySymbol?n.currencySymbol:"$"}${y&&parseFloat(V)*parseInt(y.toFixed(0),10)?(parseFloat(V)*parseInt(y.toFixed(0),10)).toFixed(2):0}`};return h("div",{className:"ds-sdk-input pt-md",children:[r("label",{className:"ds-sdk-input__label text-base font-normal text-gray-900",children:e.title}),h("div",{class:"ds-sdk-slider range_container",children:[h("div",{class:"sliders_control",children:[r("input",{className:"ds-sdk-slider__from fromSlider",id:x,type:"range",value:c,min:a,max:s,onInput:({target:y})=>{y instanceof HTMLInputElement&&d(Math.round(Number(y.value)))},onMouseUp:()=>{p(c,u)},onTouchEnd:()=>{p(c,u)},onKeyUp:()=>{p(c,u)}}),r("input",{className:"ds-sdk-slider__to toSlider",id:f,type:"range",value:u,min:a,max:s,onInput:({target:y})=>{y instanceof HTMLInputElement&&l(Math.round(Number(y.value)))},onMouseUp:()=>{p(c,u)},onTouchEnd:()=>{p(c,u)},onKeyUp:()=>{p(c,u)}})]}),h("div",{class:"form_control",children:[h("div",{class:"form_control_container",children:[r("div",{class:"form_control_container__time",children:"Min"}),r("input",{class:"form_control_container__time__input",type:"number",id:g,value:c,min:a,max:s,onInput:({target:y})=>{y instanceof HTMLInputElement&&d(Math.round(Number(y.value)))},onMouseUp:()=>{p(c,u)},onTouchEnd:()=>{p(c,u)},onKeyUp:()=>{p(c,u)}})]}),h("div",{class:"form_control_container",children:[r("div",{class:"form_control_container__time",children:"Max"}),r("input",{class:"form_control_container__time__input",type:"number",id:v,value:u,min:a,max:s,onInput:({target:y})=>{y instanceof HTMLInputElement&&l(Math.round(Number(y.value)))},onMouseUp:()=>{p(c,u)},onTouchEnd:()=>{p(c,u)},onKeyUp:()=>{p(c,u)}})]})]})]}),r("div",{className:`price-range-display__${e.attribute} pb-3`,children:h("span",{className:"ml-sm block-display text-sm font-light text-gray-700",children:["Between ",r("span",{className:"min-price text-gray-900 font-semibold",children:m(c)})," and"," ",r("span",{className:"max-price text-gray-900 font-semibold",children:m(u)})]})}),r("div",{className:"ds-sdk-input__border border-t mt-md border-gray-200"})]})},qr=({attribute:e,buckets:n})=>{var c;const t={};n.forEach(d=>t[d.title]={from:d.from,to:d.to});const a=de(),s=(c=a==null?void 0:a.filters)==null?void 0:c.find(d=>d.attribute===e);return{isSelected:d=>{var l,p;return s?t[d].from===((l=s.range)==null?void 0:l.from)&&t[d].to===((p=s.range)==null?void 0:p.to):!1},onChange:d=>{if(!s){const l={attribute:e,range:{from:t[d].from,to:t[d].to}};a.createFilter(l);return}const u={...s,range:{from:t[d].from,to:t[d].to}};a.updateFilter(u)}}},Qr=({type:e,checked:n,onChange:t,name:a,label:s,attribute:i,value:o,count:c})=>h("div",{className:"ds-sdk-labelled-input flex items-center",children:[r("input",{id:a,name:e==="checkbox"?`checkbox-group-${i}`:`radio-group-${i}`,type:e,className:"ds-sdk-labelled-input__input focus:ring-0 h-md w-md border-0 cursor-pointer accent-gray-600 min-w-[16px]",checked:n,"aria-checked":n,onInput:t,value:o}),h("label",{htmlFor:a,className:"ds-sdk-labelled-input__label ml-sm block-display text-sm font-light text-gray-700 cursor-pointer",children:[s,c&&r("span",{className:"text-[12px] font-light text-gray-700 ml-1",children:`(${c})`})]})]}),Ze=5,Et=({title:e,attribute:n,buckets:t,isSelected:a,onChange:s,type:i,inputGroupTitleSlot:o})=>{const c=le(),d=G(),[u,l]=fe(t.length<Ze),p=u?t.length:Ze,x=(g,v)=>{var m;s({value:g,selected:(m=v==null?void 0:v.target)==null?void 0:m.checked})},f=(g,v)=>{if(v.__typename==="RangeBucket"){const m=d.currencyRate?d.currencyRate:"1",_=d.currencySymbol?d.currencySymbol:"$";return`${_}${v!=null&&v.from&&parseFloat(m)*parseInt(v.from.toFixed(0),10)?(parseFloat(m)*parseInt(v.from.toFixed(0),10)).toFixed(2):0}${v!=null&&v.to&&parseFloat(m)*parseInt(v.to.toFixed(0),10)?` - ${_}${(parseFloat(m)*parseInt(v.to.toFixed(0),10)).toFixed(2)}`:c.InputButtonGroup.priceRange}`}else{if(v.__typename==="CategoryView")return d.categoryPath?v.name??v.title:v.title;if(v.title===Ut)return g;if(v.title===Rt)return c.InputButtonGroup.priceExcludedMessage.replace("{title}",`${g}`)}return v.title};return h("div",{className:"ds-sdk-input pt-md",children:[o?o(e):r("label",{className:"ds-sdk-input__label text-base font-normal text-gray-900",children:e}),r("fieldset",{className:"ds-sdk-input__options mt-md",children:h("div",{className:"space-y-4",children:[t.slice(0,p).map(g=>{if(!g.title)return null;const v=a(g.title),m=g.__typename==="RangeBucket";return r(Qr,{name:`${g.title}-${n}`,attribute:n,label:f(e,g),checked:!!v,value:g.title,count:m?null:g.count,onChange:_=>x(g.title,_),type:i},f(e,g))}),!u&&t.length>Ze&&h("div",{className:"ds-sdk-input__fieldset__show-more flex items-center text-gray-700 cursor-pointer",onClick:()=>l(!0),children:[r(It,{className:"h-md w-md fill-gray-500"}),r("button",{type:"button",className:"ml-sm font-light cursor-pointer border-none bg-transparent hover:border-none	hover:bg-transparent focus:border-none focus:bg-transparent active:border-none active:bg-transparent active:shadow-none text-sm",children:c.InputButtonGroup.showmore})]})]})}),r("div",{className:"ds-sdk-input__border border-t mt-md border-gray-200"})]})},Gr=({filterData:e})=>{const{isSelected:n,onChange:t}=qr(e);return r(Et,{title:e.title,attribute:e.attribute,buckets:e.buckets,type:"radio",isSelected:n,onChange:a=>{t(a.value)}})},Kr=e=>{var i;const n=de(),t=(i=n==null?void 0:n.filters)==null?void 0:i.find(o=>o.attribute===e.attribute);return{isSelected:o=>{var d;return t?(d=t.in)==null?void 0:d.includes(o):!1},onChange:(o,c)=>{var p,x,f,g;if(!t){const v={attribute:e.attribute,in:[o]};n.createFilter(v);return}const d={...t},u=t.in?t.in:[];d.in=c?[...u,o]:(p=t.in)==null?void 0:p.filter(v=>v!==o);const l=(x=t.in)==null?void 0:x.filter(v=>{var m;return!((m=d.in)!=null&&m.includes(v))});if((f=d.in)!=null&&f.length){l!=null&&l.length&&n.removeFilter(e.attribute,l[0]),n.updateFilter(d);return}if(!((g=d.in)!=null&&g.length)){n.removeFilter(e.attribute);return}}}},lt=({filterData:e})=>{const{isSelected:n,onChange:t}=Kr(e);return r(Et,{title:e.title,attribute:e.attribute,buckets:e.buckets,type:"checkbox",isSelected:n,onChange:a=>t(a.value,a.selected)})},Ft=({searchFacets:e})=>{const{config:{priceSlider:n}}=oe();return r("div",{className:"ds-plp-facets flex flex-col",children:r("form",{className:"ds-plp-facets__list border-t border-gray-200",children:e==null?void 0:e.map(t=>{var s;switch((s=t==null?void 0:t.buckets[0])==null?void 0:s.__typename){case"ScalarBucket":return r(lt,{filterData:t},t.attribute);case"RangeBucket":return n?r(Zr,{filterData:t}):r(Gr,{filterData:t},t.attribute);case"CategoryView":return r(lt,{filterData:t},t.attribute);default:return null}})})})},Wr=r(It,{className:"h-[12px] w-[12px] rotate-45 inline-block ml-sm cursor-pointer  fill-gray-700"}),it=({label:e,onClick:n,CTA:t=Wr,type:a})=>a==="transparent"?h("div",{className:"ds-sdk-pill inline-flex justify-content items-center rounded-full w-fit min-h-[32px] px-4 py-1",children:[r("span",{className:"ds-sdk-pill__label font-normal text-sm",children:e}),r("span",{className:"ds-sdk-pill__cta",onClick:n,children:t})]},e):h("div",{className:"ds-sdk-pill inline-flex justify-content items-center bg-gray-100 rounded-full w-fit outline outline-gray-200 min-h-[32px] px-4 py-1",children:[r("span",{className:"ds-sdk-pill__label font-normal text-sm",children:e}),r("span",{className:"ds-sdk-pill__cta",onClick:n,children:t})]},e),Xr=(e,n,t)=>{var c;const a=e.range,s=n||"1",i=t||"$";return`${i}${a!=null&&a.from&&parseFloat(s)*parseInt(a.from.toFixed(0),10)?(parseFloat(s)*parseInt((c=a.from)==null?void 0:c.toFixed(0),10)).toFixed(2):0}${a!=null&&a.to&&parseFloat(s)*parseInt(a.to.toFixed(0),10)?` - ${i}${(parseFloat(s)*parseInt(a.to.toFixed(0),10)).toFixed(2)}`:" and above"}`},ct=(e,n,t,a)=>{var i;if(a&&t){const o=t.find(c=>c.attribute===e.attribute&&c.value===n);if(o!=null&&o.name)return o.name}const s=(i=e.attribute)==null?void 0:i.split("_");return n==="yes"?s.join(" "):n==="no"?`not ${s.join(" ")}`:n},dt=({})=>{var a;const e=de(),n=G(),t=le();return r("div",{className:"w-full h-full",children:((a=e.filters)==null?void 0:a.length)>0&&h("div",{className:"ds-plp-facets__pills pb-6 sm:pb-6 flex flex-wrap mt-8 justify-start",children:[e.filters.map(s=>{var i;return h("div",{children:[(i=s.in)==null?void 0:i.map(o=>r(it,{label:ct(s,o,e.categoryNames,n.categoryPath),type:"transparent",onClick:()=>e.updateFilterOptions(s,o)},ct(s,o,e.categoryNames,n.categoryPath))),s.range&&r(it,{label:Xr(s,n.currencyRate,n.currencySymbol),type:"transparent",onClick:()=>{e.removeFilter(s.attribute)}})]},s.attribute)}),r("div",{className:"py-1",children:r("button",{className:`ds-plp-facets__header__clear-all border-none bg-transparent hover:border-none	hover:bg-transparent
              focus:border-none focus:bg-transparent active:border-none active:bg-transparent active:shadow-none text-sm px-4`,onClick:()=>e.clearFilters(),children:t.Filter.clearAll})})]})})},Yr=({loading:e,pageLoading:n,totalCount:t,facets:a,categoryName:s,phrase:i,setShowFilters:o,filterCount:c})=>{const d=le();let u=s||"";i&&(u=d.CategoryFilters.results.replace("{phrase}",`"${i}"`));const p=d.CategoryFilters.products.replace("{totalCount}",`${t}`);return h("div",{class:"sm:flex ds-widgets-_actions relative max-w-[21rem] w-full h-full px-2 flex-col overflow-y-auto",children:[h("div",{className:"ds-widgets_actions_header flex justify-between items-center mb-md",children:[u&&h("span",{children:[" ",u]}),!e&&r("span",{className:"text-primary text-sm",children:p})]}),!n&&a.length>0&&h(j,{children:[r("div",{className:"flex pb-4 w-full h-full",children:r(Xe,{displayFilter:()=>o(!1),type:"desktop",title:`${d.Filter.hideTitle}${c>0?` (${c})`:""}`})}),r(Ft,{searchFacets:a})]})]})},Ve=({title:e,type:n,description:t,url:a,onClick:s})=>r("div",{className:"mx-auto max-w-8xl",children:(()=>{switch(n){case"error":return r("div",{className:"rounded-md bg-red-50 p-4",children:h("div",{className:"flex items-center",children:[r("div",{className:"flex-shrink-0 p-1",children:r(Mr,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),h("div",{className:"ml-3",children:[r("h3",{className:"text-sm font-medium text-red-800",children:e}),t.length>0&&r("div",{className:"mt-2 text-sm text-red-700",children:r("p",{children:t})})]})]})});case"warning":return r("div",{className:"rounded-md bg-yellow-50 p-4",children:h("div",{className:"flex items-center",children:[r("div",{className:"flex-shrink-0 p-1",children:r(Rr,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),h("div",{className:"ml-3",children:[r("h3",{className:"text-sm font-medium text-yellow-800",children:e}),t.length>0&&r("div",{className:"mt-2 text-sm text-yellow-700",children:r("p",{children:t})})]})]})});case"info":return r("div",{className:"rounded-md bg-blue-50 p-4",children:h("div",{className:"flex items-center",children:[r("div",{className:"flex-shrink-0 p-1",children:r(Hr,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),h("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:[h("div",{children:[r("h3",{className:"text-sm font-medium text-blue-800",children:e}),t.length>0&&r("div",{className:"mt-2 text-sm text-blue-700",children:r("p",{children:t})})]}),r("div",{className:"mt-4 text-sm md:ml-6",children:h("a",{href:a,className:"whitespace-nowrap font-medium text-blue-700 hover:text-blue-600",children:["Details",r("span",{"aria-hidden":"true",children:"→"})]})})]})]})});case"success":return r("div",{className:"rounded-md bg-green-50 p-4",children:h("div",{className:"flex items-center",children:[r("div",{className:"flex-shrink-0 p-1",children:r(Fr,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),h("div",{className:"ml-3",children:[r("h3",{className:"text-sm font-medium text-green-800",children:e}),t.length>0&&r("div",{className:"mt-2 text-sm text-green-700",children:r("p",{children:t})})]}),r("div",{className:"ml-auto",children:r("div",{className:"md:ml-6",children:h("button",{type:"button",className:"inline-flex rounded-md bg-green-50 p-1.5 text-green-500 ring-off hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50",children:[r("span",{className:"sr-only",children:"Dismiss"}),r(zr,{className:"h-5 w-5","aria-hidden":"true",onClick:s})]})})})]})})}})()}),Le="...",Ue=(e,n)=>{const t=n-e+1;return Array.from({length:t},(a,s)=>e+s)},Jr=({currentPage:e,totalPages:n,siblingCount:t=1})=>qt(()=>{const i=n,o=t+5,c=Math.max(e-t,1),d=Math.min(e+t,n),u=c>2,l=d<n-2;if(n<=o)return Ue(1,n);if(!u&&l){const p=3+2*t;return[...Ue(1,p),Le,n]}if(u&&!l){const p=3+2*t,x=Ue(n-p+1,n);return[1,Le,...x]}if(u&&l){const p=Ue(c,d);return[1,Le,...p,Le,i]}},[e,n,t]),en=({onPageChange:e,totalPages:n,currentPage:t})=>{const a=G(),s=Jr({currentPage:t,totalPages:n});Z(()=>{const{currentPage:c,totalPages:d}=a;return c>d&&e(d),()=>{}},[a,e]);const i=()=>{t>1&&e(t-1)},o=()=>{t<n&&e(t+1)};return h("ul",{className:"ds-plp-pagination flex justify-center items-center mt-2 mb-6 list-none",children:[r(ze,{className:`h-sm w-sm transform rotate-90 ${t===1?"stroke-gray-400 cursor-not-allowed":"stroke-gray-600 cursor-pointer"}`,onClick:i}),s==null?void 0:s.map(c=>c===Le?r("li",{className:"ds-plp-pagination__dots text-gray-500 mx-sm my-auto",children:"..."},c):r("li",{className:`ds-plp-pagination__item flex items-center cursor-pointer text-center text-gray-500 my-auto mx-sm ${t===c?"ds-plp-pagination__item--current text-black font-medium underline underline-offset-4 decoration-black":""}`,onClick:()=>e(c),children:c},c)),r(ze,{className:`h-sm w-sm transform -rotate-90 ${t===n?"stroke-gray-400 cursor-not-allowed":"stroke-gray-600 cursor-pointer"}`,onClick:o})]})},tn=({options:e,activeIndex:n,setActiveIndex:t,select:a})=>{const s=e.length,i=o=>{switch(o.preventDefault(),o.key){case"Up":case"ArrowUp":o.preventDefault(),t(n<=0?s-1:n-1);return;case"Down":case"ArrowDown":o.preventDefault(),t(n+1===s?0:n+1);return;case"Enter":case" ":o.preventDefault(),a(e[n].value);return;case"Esc":case"Escape":o.preventDefault(),a(null);return;case"PageUp":case"Home":o.preventDefault(),t(0);return;case"PageDown":case"End":o.preventDefault(),t(e.length-1);return}};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},rn=({setIsDropdownOpen:e})=>{const n=t=>{switch(t.key){case"Up":case"ArrowUp":case"Down":case"ArrowDown":case" ":case"Enter":t.preventDefault(),e(!0)}};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},ut=()=>{const e=navigator.userAgent.indexOf("Chrome")>-1;return navigator.userAgent.indexOf("Safari")>-1&&!e},Mt=({options:e,value:n,onChange:t})=>{const[a,s]=w(!1),i=Ie(null),[o,c]=w(0),[d,u]=w(!1),l=x=>{x&&t&&t(x),p(!1),u(!1)},p=x=>{if(x){const f=e==null?void 0:e.findIndex(g=>g.value===n);c(f<0?0:f),i.current&&ut()&&requestAnimationFrame(()=>{var g;(g=i==null?void 0:i.current)==null||g.focus()})}else i.current&&ut()&&requestAnimationFrame(()=>{var f,g;(g=(f=i==null?void 0:i.current)==null?void 0:f.previousSibling)==null||g.focus()});s(x)};return Z(()=>{if(a)return tn({activeIndex:o,setActiveIndex:c,options:e,select:l});if(d)return rn({setIsDropdownOpen:p})},[a,o,d]),{isDropdownOpen:a,setIsDropdownOpen:p,activeIndex:o,setActiveIndex:c,select:l,setIsFocus:u,listRef:i}},nn=({value:e,pageSizeOptions:n,onChange:t})=>{const a=Ie(null),s=Ie(null),i=n.find(f=>f.value===e),{isDropdownOpen:o,setIsDropdownOpen:c,activeIndex:d,setActiveIndex:u,select:l,setIsFocus:p,listRef:x}=Mt({options:n,value:e,onChange:t});return Z(()=>{const f=s.current,g=()=>{p(!1),c(!1)},v=()=>{var m;((m=f==null?void 0:f.parentElement)==null?void 0:m.querySelector(":hover"))!==f&&(p(!1),c(!1))};return f==null||f.addEventListener("blur",g),f==null||f.addEventListener("focusin",v),f==null||f.addEventListener("focusout",v),()=>{f==null||f.removeEventListener("blur",g),f==null||f.removeEventListener("focusin",v),f==null||f.removeEventListener("focusout",v)}},[s]),r(j,{children:h("div",{ref:s,className:"ds-sdk-per-page-picker ml-2 mr-2 relative inline-block text-left bg-gray-100 rounded-md outline outline-1 outline-gray-200 hover:outline-gray-600 h-[32px]",children:[h("button",{className:"group flex justify-center items-center font-normal text-sm text-gray-700 rounded-md hover:cursor-pointer border-none bg-transparent hover:border-none hover:bg-transparent focus:border-none focus:bg-transparent active:border-none active:bg-transparent active:shadow-none h-full w-full px-sm",ref:a,onClick:()=>c(!o),onFocus:()=>p(!1),onBlur:()=>p(!1),children:[i?`${i.label}`:"24",r(ze,{className:`flex-shrink-0 m-auto ml-sm h-md w-md stroke-1 stroke-gray-600 ${o?"":"rotate-180"}`})]}),o&&r("ul",{ref:x,className:"ds-sdk-per-page-picker__items origin-top-right absolute hover:cursor-pointer right-0 w-full rounded-md shadow-2xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none mt-2 z-20",children:n.map((f,g)=>r("li",{"aria-selected":f.value===(i==null?void 0:i.value),onMouseOver:()=>u(g),className:`py-xs hover:bg-gray-100 hover:text-gray-900 ${g===d?"bg-gray-100 text-gray-900":""}}`,children:r("a",{className:`ds-sdk-per-page-picker__items--item block-display px-md py-sm text-sm mb-0
              no-underline active:no-underline focus:no-underline hover:no-underline
              hover:text-gray-900 ${f.value===(i==null?void 0:i.value)?"ds-sdk-per-page-picker__items--item-selected font-semibold text-gray-900":"font-normal text-gray-800"}`,onClick:()=>l(f.value),children:f.label})},g))})]})})},qe=({onClick:e})=>r("div",{className:"ds-sdk-add-to-cart-button",children:h("button",{className:"flex items-center justify-center text-white text-sm rounded-full h-[32px] w-full p-sm",style:{"background-color":"#464646"},onClick:e,children:[r(Er,{className:"w-[24px] pr-4"}),"Add To Cart"]})}),sn=({image:e,alt:n,carouselIndex:t,index:a})=>{const s=Qt(null),[i,o]=fe(""),[c,d]=fe(!1),u=lr(s,{rootMargin:"200px"});return Re(()=>{var l;u&&u!=null&&u.isIntersecting&&a===t&&(d(!0),o(((l=u==null?void 0:u.target)==null?void 0:l.dataset.src)||""))},[u,t,a,e]),r("img",{className:`aspect-auto w-100 h-auto ${c?"visible":"invisible"}`,ref:s,src:i,"data-src":typeof e=="object"?e.src:e,srcset:typeof e=="object"?e.srcset:null,alt:n})},mt=({images:e,productName:n,carouselIndex:t,setCarouselIndex:a})=>{const[s,i]=fe(0),o=u=>{a(u)},c=()=>{a(t===0?0:u=>u-1)},d=()=>{t===e.length-1?a(0):a(u=>u+1)};return r(j,{children:h("div",{class:"ds-sdk-product-image-carousel max-h-[250px] max-w-2xl m-auto",children:[r("div",{className:"flex flex-nowrap overflow-hidden relative rounded-lg w-full h-full",onTouchStart:u=>i(u.touches[0].clientX),onTouchEnd:u=>{const l=u.changedTouches[0].clientX;s>l?d():s<l&&c()},children:r("div",{className:"overflow-hidden relative max-w-[200px]",children:r("div",{className:"flex transition ease-out duration-40",style:{transform:`translateX(-${t*100}%)`},children:e.map((u,l)=>r(sn,{image:u,carouselIndex:t,index:l,alt:n},l))})})}),e.length>1&&r("div",{className:"absolute z-1 flex space-x-3 -translate-x-1/2 bottom-0 left-1/2 pb-2 ",children:e.map((u,l)=>r("span",{style:t===l?{width:"12px",height:"12px","border-radius":"50%",border:"1px solid black",cursor:"pointer","background-color":"#252525"}:{width:"12px",height:"12px","border-radius":"50%",border:"1px solid silver",cursor:"pointer","background-color":"silver"},onClick:p=>{p.preventDefault(),o(l)}},l))})]})})},Qe=({id:e,value:n,type:t,checked:a,onClick:s})=>{const i=a?"border-black":t==="COLOR_HEX"?"border-transparent":"border-gray";if(t==="COLOR_HEX"){const c=n.toLowerCase(),d=`min-w-[32px] rounded-full p-sm border border-[1.5px] ${i} h-[32px] outline-transparent`,u=c==="#ffffff"||c==="#fff";return r("div",{className:`ds-sdk-swatch-button_${e}`,children:r("button",{className:d,style:{backgroundColor:c,border:!a&&u?"1px solid #ccc":void 0},onClick:s,checked:a},e)})}if(t==="IMAGE"&&n){const c=`object-cover object-center min-w-[32px] rounded-full p-sm border border-[1.5px] ${i} h-[32px] outline-transparent`,d=`background: url(${n}) no-repeat center; background-size: initial`;return r("div",{className:`ds-sdk-swatch-button_${n}`,children:r("button",{className:c,style:d,onClick:s,checked:a},e)})}const o=`flex items-center bg-white rounded-full p-sm border border-[1.5px]h-[32px] ${i} outline-transparent`;return r("div",{className:`ds-sdk-swatch-button_${n}`,children:r("button",{className:o,onClick:s,checked:a,children:n},e)})},pt=5,ht=({isSelected:e,swatches:n,showMore:t,productUrl:a,onClick:s,sku:i})=>{const o=n.length>pt,c=o?pt-1:n.length;return r("div",{className:"ds-sdk-product-item__product-swatch-group flex column items-center space-x-2",children:o?h("div",{className:"flex",children:[n.slice(0,c).map(d=>{const u=e(d.id);return d&&d.type=="COLOR_HEX"&&r("div",{className:"ds-sdk-product-item__product-swatch-item mr-2 text-sm text-primary",children:r(Qe,{id:d.id,value:d.value,type:d.type,checked:!!u,onClick:()=>s([d.id],i)})})}),r("a",{href:a,className:"hover:no-underline",children:r("div",{className:"ds-sdk-product-item__product-swatch-item text-sm text-primary",children:r(Qe,{id:"show-more",value:`+${n.length-c}`,type:"TEXT",checked:!1,onClick:t})})})]}):n.slice(0,c).map(d=>{const u=e(d.id);return d&&d.type=="COLOR_HEX"&&r("div",{className:"ds-sdk-product-item__product-swatch-item text-sm text-primary",children:r(Qe,{id:d.id,value:d.value,type:d.type,checked:!!u,onClick:()=>s([d.id],i)})})})})},ft=({isComplexProductView:e,item:n,isBundle:t,isGrouped:a,isGiftCard:s,isConfigurable:i,discount:o,currencySymbol:c,currencyRate:d})=>{var g,v,m;const u=De(zt);let l=(m=(v=(g=n.productView)==null?void 0:g.price)==null?void 0:v.final)==null?void 0:m.amount;const p=(_,C,N)=>u.ProductCard.bundlePrice.split(" ").map(($,I)=>$==="{fromBundlePrice}"?`${ae(_,C,N,!1,!0)} `:$==="{toBundlePrice}"?ae(_,C,N,!0,!0):r("span",{className:"text-gray-500 text-xs font-normal mr-xs",children:$},I)),x=(_,C,N,k)=>(k?u.ProductCard.from:u.ProductCard.startingAt).split("{productPrice}").map((y,V)=>y===""?ae(_,C,N,!1,!0):r("span",{className:"text-gray-500 text-xs font-normal mr-xs",children:y},V)),f=_=>{const C=_?h(j,{children:[r("span",{className:"line-through pr-2",children:ae(n,c,d,!1,!1)}),r("span",{className:"text-secondary",children:ae(n,c,d,!1,!0)})]}):ae(n,c,d,!1,!0);return u.ProductCard.asLowAs.split("{discountPrice}").map(($,I)=>$===""?C:r("span",{className:"text-gray-500 text-xs font-normal mr-xs",children:$},I))};return r(j,{children:l&&h("div",{className:"ds-sdk-product-price",children:[!t&&!a&&!i&&!e&&o&&h("p",{className:"ds-sdk-product-price--discount mt-xs text-sm font-medium text-gray-900 my-auto",children:[r("span",{className:"line-through pr-2",children:ae(n,c,d,!1,!1)}),r("span",{className:"text-secondary",children:ae(n,c,d,!1,!0)})]}),!t&&!a&&!s&&!i&&!e&&!o&&r("p",{className:"ds-sdk-product-price--no-discount mt-xs text-sm font-medium text-gray-900 my-auto",children:ae(n,c,d,!1,!0)}),t&&r("div",{className:"ds-sdk-product-price--bundle",children:r("p",{className:"mt-xs text-sm font-medium text-gray-900 my-auto",children:p(n,c,d)})}),a&&r("p",{className:"ds-sdk-product-price--grouped mt-xs text-sm font-medium text-gray-900 my-auto",children:x(n,c,d,!1)}),s&&r("p",{className:"ds-sdk-product-price--gift-card mt-xs text-sm font-medium text-gray-900 my-auto",children:x(n,c,d,!0)}),!a&&!t&&(i||e)&&r("p",{className:"ds-sdk-product-price--configurable mt-xs text-sm font-medium text-gray-900 my-auto",children:f(o)})]})})},gt=({item:e,currencySymbol:n,currencyRate:t,setRoute:a,refineProduct:s,setCartUpdated:i,setItemAdded:o,setError:c,addToCart:d})=>{var $e,se,Ee,Fe,xe,Me,Te,He,Ae,Oe,be,ye,we,_e,Ce,Ne,ke,F,O,W,X,Y,Q,ie,ce,Se,Pe;const{product:u,productView:l}=e,[p,x]=w(0),[f,g]=w(""),[v,m]=w(),[_,C]=w(),[N,k]=w(!1),{addToCartGraphQL:$,refreshCart:I}=Lr(),{viewType:y}=G(),{config:{optimizeImages:V,imageBaseWidth:L,imageCarousel:E,listview:D}}=oe(),{screenSize:H}=Be(),q=()=>{k(!0)},B=()=>{k(!1)},ee=async(z,J)=>{const S=await s(z,J);g(z[0]),m(S.refineProduct.images),C(S),x(0)},te=z=>f?f===z:!1,T=v?Je(v??[],E?3:1):Je(l.images??[],E?3:1,(($e=u==null?void 0:u.image)==null?void 0:$e.url)??void 0);let P=[];V&&(P=Yt(T,L??200));const M=_?((Me=(xe=(Fe=(Ee=(se=_.refineProduct)==null?void 0:se.priceRange)==null?void 0:Ee.minimum)==null?void 0:Fe.regular)==null?void 0:xe.amount)==null?void 0:Me.value)>((be=(Oe=(Ae=(He=(Te=_.refineProduct)==null?void 0:Te.priceRange)==null?void 0:He.minimum)==null?void 0:Ae.final)==null?void 0:Oe.amount)==null?void 0:be.value):((_e=(we=(ye=u==null?void 0:u.price_range)==null?void 0:ye.minimum_price)==null?void 0:we.regular_price)==null?void 0:_e.value)>((ke=(Ne=(Ce=u==null?void 0:u.price_range)==null?void 0:Ce.minimum_price)==null?void 0:Ne.final_price)==null?void 0:ke.value)||((W=(O=(F=l==null?void 0:l.price)==null?void 0:F.regular)==null?void 0:O.amount)==null?void 0:W.value)>((Q=(Y=(X=l==null?void 0:l.price)==null?void 0:X.final)==null?void 0:Y.amount)==null?void 0:Q.value),U=(u==null?void 0:u.__typename)==="SimpleProduct",A=(l==null?void 0:l.__typename)==="ComplexProductView",R=(u==null?void 0:u.__typename)==="BundleProduct",ue=(u==null?void 0:u.__typename)==="GroupedProduct",re=(u==null?void 0:u.__typename)==="GiftCardProduct",ge=(u==null?void 0:u.__typename)==="ConfigurableProduct",ne=()=>{var z;(z=window.magentoStorefrontEvents)==null||z.publish.searchProductClick(me,u==null?void 0:u.sku)},K=a?a({sku:l==null?void 0:l.sku,urlKey:l==null?void 0:l.urlKey}):u==null?void 0:u.canonical_url,ve=async()=>{var z,J;if(c(!1),U)if(d)await d(l.sku,[],1);else{const S=await $(l.sku);if(S!=null&&S.errors||((J=(z=S==null?void 0:S.data)==null?void 0:z.addProductsToCart)==null?void 0:J.user_errors.length)>0){c(!0);return}o(l==null?void 0:l.name),I==null||I(),i(!0)}else K&&window.open(K,"_self")};return D&&y==="listview"?r(j,{children:h("div",{className:"grid-container",children:[r("div",{className:"product-image ds-sdk-product-item__image relative rounded-md overflow-hidden}",children:r("a",{href:K,onClick:ne,className:"!text-primary hover:no-underline hover:text-primary",children:T.length?r(mt,{images:P.length?P:T,productName:l.name,carouselIndex:p,setCarouselIndex:x}):r(at,{className:"max-h-[250px] max-w-[200px] pr-5 m-auto object-cover object-center lg:w-full"})})}),r("div",{className:"product-details",children:h("div",{className:"flex flex-col w-1/3",children:[h("a",{href:K,onClick:ne,className:"!text-primary hover:no-underline hover:text-primary",children:[r("div",{className:"ds-sdk-product-item__product-name mt-xs text-sm text-primary",children:(l==null?void 0:l.name)!==null&&je(l==null?void 0:l.name)}),h("div",{className:"ds-sdk-product-item__product-sku mt-xs text-sm text-primary",children:["SKU:",(l==null?void 0:l.sku)!==null&&je(l==null?void 0:l.sku)]})]}),r("div",{className:"ds-sdk-product-item__product-swatch flex flex-row mt-sm text-sm text-primary pb-6",children:(ie=l==null?void 0:l.options)==null?void 0:ie.map(z=>z.id==="color"&&r(ht,{isSelected:te,swatches:z.values??[],showMore:ne,productUrl:K,onClick:ee,sku:l==null?void 0:l.sku},l==null?void 0:l.sku))})]})}),r("div",{className:"product-price",children:r("a",{href:K,onClick:ne,className:"!text-primary hover:no-underline hover:text-primary",children:r(ft,{item:_??e,isBundle:R,isGrouped:ue,isGiftCard:re,isConfigurable:ge,isComplexProductView:A,discount:M,currencySymbol:n,currencyRate:t})})}),r("div",{className:"product-description text-sm text-primary mt-xs",children:r("a",{href:K,onClick:ne,className:"!text-primary hover:no-underline hover:text-primary",children:(ce=l==null?void 0:l.short_description)!=null&&ce.html?r(j,{children:r("span",{dangerouslySetInnerHTML:{__html:l==null?void 0:l.short_description.html}})}):r("span",{})})}),r("div",{className:"product-ratings"}),r("div",{className:"product-add-to-cart",children:r("div",{className:"pb-4 h-[38px] w-96",children:r(qe,{onClick:ve})})})]})}):h("div",{className:"ds-sdk-product-item group relative flex flex-col max-w-sm justify-between h-full hover:border-[1.5px] border-solid hover:shadow-lg border-offset-2 p-2",style:{"border-color":"#D5D5D5"},onMouseEnter:q,onMouseLeave:B,children:[r("a",{href:K,onClick:ne,className:"!text-primary hover:no-underline hover:text-primary",children:h("div",{className:"ds-sdk-product-item__main relative flex flex-col justify-between h-full",children:[r("div",{className:"ds-sdk-product-item__image relative w-full h-full rounded-md overflow-hidden",children:T.length?r(mt,{images:P.length?P:T,productName:l==null?void 0:l.name,carouselIndex:p,setCarouselIndex:x}):r(at,{className:"max-h-[45rem] w-full object-cover object-center lg:w-full"})}),r("div",{className:"flex flex-row",children:h("div",{className:"flex flex-col",children:[r("div",{className:"ds-sdk-product-item__product-name mt-md text-sm text-primary",children:(l==null?void 0:l.name)!==null&&je(l==null?void 0:l.name)}),r(ft,{item:_??e,isBundle:R,isGrouped:ue,isGiftCard:re,isConfigurable:ge,isComplexProductView:A,discount:M,currencySymbol:n,currencyRate:t})]})})]})}),(l==null?void 0:l.options)&&((Se=l.options)==null?void 0:Se.length)>0&&r("div",{className:"ds-sdk-product-item__product-swatch flex flex-row mt-sm text-sm text-primary",children:(Pe=l==null?void 0:l.options)==null?void 0:Pe.map(z=>z.id=="color"&&r(ht,{isSelected:te,swatches:z.values??[],showMore:ne,productUrl:K,onClick:ee,sku:l==null?void 0:l.sku},l==null?void 0:l.sku))}),h("div",{className:"pb-4 mt-sm",children:[H.mobile&&r(qe,{onClick:ve}),N&&H.desktop&&r(qe,{onClick:ve})]})]})},an=({products:e,numberOfColumns:n,showFilters:t})=>{const a=G(),{currencySymbol:s,currencyRate:i,setRoute:o,refineProduct:c,refreshCart:d,addToCart:u}=a,[l,p]=w(!1),[x,f]=w(""),{viewType:g}=G(),[v,m]=w(!1),{config:{listview:_}}=oe(),C=t?"ds-sdk-product-list bg-body max-w-full pl-3 pb-2xl sm:pb-24":"ds-sdk-product-list bg-body w-full mx-auto pb-2xl sm:pb-24";return Z(()=>{d&&d()},[x]),h("div",{className:Xt("ds-sdk-product-list bg-body pb-2xl sm:pb-24",C),children:[l&&r("div",{className:"mt-8",children:r(Ve,{title:`You added ${x} to your shopping cart.`,type:"success",description:"",onClick:()=>p(!1)})}),v&&r("div",{className:"mt-8",children:r(Ve,{title:"Something went wrong trying to add an item to your cart.",type:"error",description:"",onClick:()=>m(!1)})}),_&&g==="listview"?r("div",{className:"w-full",children:r("div",{className:"ds-sdk-product-list__list-view-default mt-md grid grid-cols-none pt-[15px] w-full gap-[10px]",children:e==null?void 0:e.map(N=>{var k;return r(gt,{item:N,setError:m,currencySymbol:s,currencyRate:i,setRoute:o,refineProduct:c,setCartUpdated:p,setItemAdded:f,addToCart:u},(k=N==null?void 0:N.productView)==null?void 0:k.id)})})}):r("div",{style:{gridTemplateColumns:`repeat(${n}, minmax(0, 1fr))`},className:"ds-sdk-product-list__grid mt-md grid gap-y-8 gap-x-2xl xl:gap-x-8",children:e==null?void 0:e.map(N=>{var k;return r(gt,{item:N,setError:m,currencySymbol:s,currencyRate:i,setRoute:o,refineProduct:c,setCartUpdated:p,setItemAdded:f,addToCart:u},(k=N==null?void 0:N.productView)==null?void 0:k.id)})})]})},vt=({showFilters:e})=>{const n=G(),{screenSize:t}=Be(),{variables:a,items:s,setCurrentPage:i,currentPage:o,setPageSize:c,pageSize:d,totalPages:u,totalCount:l,minQueryLength:p,minQueryLengthReached:x,pageSizeOptions:f,loading:g}=n;Z(()=>{o<1&&m(1)},[]);const v=Array.from({length:8}),m=k=>{typeof k=="number"&&(i(k),wt(k))},_=k=>{c(k),nr(k)},C=le(),N=(k,$,I)=>C.ProductContainers.pagePicker.split(" ").map((L,E)=>L==="{pageSize}"?r(I,{pageSizeOptions:$,value:k,onChange:_},E):`${L} `);if(!x){const $=C.ProductContainers.minquery.replace("{variables.phrase}",a.phrase).replace("{minQueryLength}",p);return r("div",{className:"ds-sdk-min-query__page mx-auto max-w-8xl py-12 px-4 sm:px-6 lg:px-8",children:r(Ve,{title:$,type:"warning",description:""})})}return l?h(j,{children:[g?h("div",{style:{gridTemplateColumns:`repeat(${t.columns}, minmax(0, 1fr))`},className:"ds-sdk-product-list__grid mt-md grid grid-cols-1 gap-y-8 gap-x-md sm:grid-cols-2 md:grid-cols-3 xl:gap-x-4 pl-8",children:[" ",v.map((k,$)=>r($t,{},$))]}):r(an,{products:s,numberOfColumns:t.columns,showFilters:e}),h("div",{className:`flex flex-row justify-between max-w-full ${e?"mx-auto":"mr-auto"} w-full h-full`,children:[r("div",{children:N(d,f,nn)}),u>1&&r(en,{currentPage:o,totalPages:u,onPageChange:m})]})]}):r("div",{className:"ds-sdk-no-results__page mx-auto max-w-8xl py-12 px-4 sm:px-6 lg:px-8",children:r(Ve,{title:C.ProductContainers.noresults,type:"warning",description:""})})},on=({phrase:e,onKeyPress:n,placeholder:t})=>r("div",{className:"relative ds-sdk-search-bar",children:r("input",{id:"search",type:"text",value:e,onKeyPress:n,className:"border border-gray-300 text-gray-800 text-sm block-display p-xs pr-lg ds-sdk-search-bar__input",placeholder:t,autocomplete:"off"})}),ln=({value:e,sortOptions:n,onChange:t})=>{const a=Ie(null),s=Ie(null),i=n.find(m=>m.value===e),o=le(),d=o.SortDropdown.option.replace("{selectedOption}",`${i==null?void 0:i.label}`),{isDropdownOpen:u,setIsDropdownOpen:l,activeIndex:p,setActiveIndex:x,select:f,setIsFocus:g,listRef:v}=Mt({options:n,value:e,onChange:t});return Z(()=>{const m=s.current,_=()=>{g(!1),l(!1)},C=()=>{var N;((N=m==null?void 0:m.parentElement)==null?void 0:N.querySelector(":hover"))!==m&&(g(!1),l(!1))};return m==null||m.addEventListener("blur",_),m==null||m.addEventListener("focusin",C),m==null||m.addEventListener("focusout",C),()=>{m==null||m.removeEventListener("blur",_),m==null||m.removeEventListener("focusin",C),m==null||m.removeEventListener("focusout",C)}},[s]),r(j,{children:h("div",{ref:s,class:"ds-sdk-sort-dropdown relative inline-block text-left bg-gray-100 rounded-md outline outline-1 outline-gray-200 hover:outline-gray-600 h-[32px] z-9",children:[h("button",{className:"group flex justify-center items-center font-normal text-sm text-gray-700 rounded-md hover:cursor-pointer border-none bg-transparent hover:border-none hover:bg-transparent focus:border-none focus:bg-transparent active:border-none active:bg-transparent active:shadow-none h-full w-full px-sm",ref:a,onClick:()=>l(!u),onFocus:()=>g(!1),onBlur:()=>g(!1),children:[r(Ur,{className:"h-md w-md mr-sm stroke-gray-600 m-auto"}),i?d:o.SortDropdown.title,r(ze,{className:`flex-shrink-0 m-auto ml-sm h-md w-md stroke-1 stroke-gray-600 ${u?"":"rotate-180"}`})]}),u&&r("ul",{ref:v,tabIndex:-1,className:"ds-sdk-sort-dropdown__items origin-top-right absolute hover:cursor-pointer right-0 w-full rounded-md shadow-2xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none mt-2 z-20",children:n.map((m,_)=>r("li",{"aria-selected":m.value===(i==null?void 0:i.value),onMouseOver:()=>x(_),className:`py-xs hover:bg-gray-100 hover:text-gray-900 ${_===p?"bg-gray-100 text-gray-900":""}}`,children:r("a",{className:`ds-sdk-sort-dropdown__items--item block-display px-md py-sm text-sm mb-0
              no-underline active:no-underline focus:no-underline hover:no-underline
              hover:text-gray-900 ${m.value===(i==null?void 0:i.value)?"ds-sdk-sort-dropdown__items--item-selected font-semibold text-gray-900":"font-normal text-gray-800"}`,onClick:()=>f(m.value),children:m.label})},_))})]})})},cn=()=>{const{viewType:e,setViewType:n}=G(),t=a=>{rr(a),n(a)};return h("div",{className:"flex justify-between",children:[r("button",{className:`flex items-center ${e==="gridview"?"bg-gray-100":""} ring-black ring-opacity-5  p-sm text-sm h-[32px] border border-gray-300`,onClick:()=>t("gridview"),children:r(Tr,{className:"h-[20px] w-[20px]"})}),r("button",{className:`flex items-center ${e==="listview"?"bg-gray-100":""} ring-black ring-opacity-5 p-sm text-sm h-[32px] border border-gray-300`,onClick:()=>t("listview"),children:r(Ar,{className:"h-[20px] w-[20px]"})})]})},xt=({facets:e,totalCount:n,screenSize:t})=>{var N,k,$;const a=de(),s=oe(),i=kt(),o=G(),c=le(),[d,u]=w(!!((N=o.variables.filter)!=null&&N.length)),[l,p]=w(ar()),x=Tt(()=>{var I,y;p(or(c,i==null?void 0:i.sortable,(I=s==null?void 0:s.config)==null?void 0:I.displayOutOfStock,(y=s==null?void 0:s.config)==null?void 0:y.currentCategoryUrlPath))},[s,c,i]);Z(()=>{x()},[x]);const f=(k=s.config)!=null&&k.currentCategoryUrlPath?"position_ASC":"relevance_DESC",g=pe("product_list_order"),v=g||f,[m,_]=w(v),C=I=>{_(I),a.setSort(Ct(I)),tr(I)};return h("div",{className:"flex flex-col max-w-5xl lg:max-w-full ml-auto w-full h-full",children:[h("div",{className:`flex gap-x-2.5 mb-[1px] ${t.mobile?"justify-between":"justify-end"}`,children:[r("div",{children:t.mobile?n>0&&r("div",{className:"pb-4",children:r(Xe,{displayFilter:()=>u(!d),type:"mobile"})}):s.config.displaySearchBox&&r(on,{phrase:a.phrase,onKeyPress:I=>{var y;I.key==="Enter"&&a.setPhrase((y=I==null?void 0:I.target)==null?void 0:y.value)},onClear:()=>a.setPhrase(""),placeholder:c.SearchBar.placeholder})}),n>0&&h(j,{children:[(($=s==null?void 0:s.config)==null?void 0:$.listview)&&r(cn,{}),r(ln,{sortOptions:l,value:m,onChange:C})]})]}),t.mobile&&d&&r(Ft,{searchFacets:e})]})},dn=()=>{const e=de(),n=G(),{screenSize:t}=Be(),a=le(),{displayMode:s}=oe().config,[i,o]=w(!0),c=a.Loading.title;let d=n.categoryName||"";n.variables.phrase&&(d=a.CategoryFilters.results.replace("{phrase}",`"${n.variables.phrase??""}"`));const u=l=>a.CategoryFilters.products.replace("{totalCount}",`${l}`);return Z(()=>{const l=Kt.on("search/event",p=>{n.setSearchHeaders(p)});return()=>{l==null||l.off()}}),r(j,{children:s!=="PAGE"&&(!t.mobile&&i&&n.facets.length>0?r("div",{className:"ds-widgets bg-body py-2",children:h("div",{className:"flex",children:[r(Yr,{loading:n.loading,pageLoading:n.pageLoading,facets:n.facets,totalCount:n.totalCount,categoryName:n.categoryName??"",phrase:n.variables.phrase??"",showFilters:i,setShowFilters:o,filterCount:e.filterCount}),h("div",{className:`ds-widgets_results flex flex-col items-center ${n.categoryName?"pt-16":"pt-28"} w-full h-full`,children:[r(xt,{facets:n.facets,totalCount:n.totalCount,screenSize:t}),r(dt,{}),r(vt,{showFilters:i})]})]})}):r("div",{className:"ds-widgets bg-body py-2",children:h("div",{className:"flex flex-col",children:[r("div",{className:"flex flex-col items-center w-full h-full",children:r("div",{className:"justify-start w-full h-full",children:r("div",{class:"hidden sm:flex ds-widgets-_actions relative max-w-[21rem] w-full h-full px-2 flex-col overflow-y-auto",children:h("div",{className:"ds-widgets_actions_header flex justify-between items-center mb-md",children:[d&&h("span",{children:[" ",d]}),!n.loading&&r("span",{className:"text-primary text-sm",children:u(n.totalCount)})]})})})}),h("div",{className:"ds-widgets_results flex flex-col items-center w-full h-full",children:[r("div",{className:"flex w-full h-full",children:!t.mobile&&!n.loading&&n.facets.length>0&&r("div",{className:"flex w-full h-full",children:r(Xe,{displayFilter:()=>o(!0),type:"desktop",title:`${a.Filter.showTitle}${e.filterCount>0?` (${e.filterCount})`:""}`})})}),n.loading?t.mobile?r(Vr,{label:c}):r(Br,{}):h(j,{children:[r("div",{className:"flex w-full h-full",children:r(xt,{facets:n.facets,totalCount:n.totalCount,screenSize:t})}),r(dt,{}),r(vt,{showFilters:i&&n.facets.length>0})]})]})]})}))})},xn=({children:e,storeConfig:n})=>{const t=Jt(),a=nt({...n,context:{...n.context,userViewHistory:t}});return r(Vt,{...nt(a),children:r(br,{children:r(yr,{children:r(Dt,{children:r(Bt,{children:r(wr,{children:r(Ir,{children:r(dn,{})})})})})})})})};export{xn as ProductListingPage,xn as default};
